{"version":3,"sources":["file:///C:/GameECSProject/assets/scripts/systems/InputSystem.ts"],"names":["InputSystem","InputComponent","MoveIntent","constructor","entityManager","playerId","update","dt","eid","getEntityWithComponent","entity","target","getComponent","addComponent","removeEntity"],"mappings":";;;0DAIaA,W;;;;;;;;;;;;;;;;;;;;;;AAHJC,MAAAA,c,iBAAAA,c;;AACAC,MAAAA,U,iBAAAA,U;;;;;;;6BAEIF,W,GAAN,MAAMA,WAAN,CAAkB;AACvBG,QAAAA,WAAW,CACDC,aADC,EAEDC,QAFC,EAGT;AAAA,eAFQD,aAER,GAFQA,aAER;AAAA,eADQC,QACR,GADQA,QACR;AAAG;;AAEEC,QAAAA,MAAM,CAACC,EAAD,EAAa;AACxB,eAAK,MAAMC,GAAX,IAAkB,KAAKJ,aAAL,CAAmBK,sBAAnB;AAAA;AAAA,+CAAlB,EAA6E;AAC3E,kBAAM;AAAEC,cAAAA,MAAF;AAAUC,cAAAA;AAAV,gBAAqB,KAAKP,aAAL,CAAmBQ,YAAnB,CAAgCJ,GAAhC;AAAA;AAAA,iDAA3B;AACA,iBAAKJ,aAAL,CAAmBS,YAAnB,CAAgCH,MAAhC,EAAwC;AAAA;AAAA,0CAAeC,MAAf,CAAxC;AAAA;AAAA;AACA,iBAAKP,aAAL,CAAmBU,YAAnB,CAAgCN,GAAhC;AACD;AACF;;AAZsB,O","sourcesContent":["import { EntityManager } from \"../core/EntityManager\";\r\nimport { InputComponent } from \"../components/core/InputComponent\";\r\nimport { MoveIntent } from \"../components/intent/MoveIntent\";\r\n\r\nexport class InputSystem {\r\n  constructor(\r\n    private entityManager: EntityManager,\r\n    private playerId: number\r\n  ) { }\r\n\r\n  public update(dt: number) {\r\n    for (const eid of this.entityManager.getEntityWithComponent(InputComponent)) {\r\n      const { entity, target } = this.entityManager.getComponent(eid, InputComponent)!;\r\n      this.entityManager.addComponent(entity, new MoveIntent(target), MoveIntent);\r\n      this.entityManager.removeEntity(eid);\r\n    }\r\n  }\r\n}\r\n"]}