{"version":3,"sources":["file:///C:/GameECSProject/assets/scripts/core/GameManager.ts"],"names":["GameManager","EntityManager","RenderSystem","RoomSystem","constructor","entityManager","prefabs","gameRoot","initializeSystems","renderSystem","roomSystem","setPrefabs","getPrefab","name","setGameRoot"],"mappings":";;;wHAMaA,W;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAJJC,MAAAA,a,iBAAAA,a;;AACAC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,U,iBAAAA,U;;;;;;;;;6BAEIH,W,GAAN,MAAMA,WAAN,CAAkB;AAQrBI,QAAAA,WAAW,GAAE;AAAA,eAPLC,aAOK;AAAA,eANLC,OAMK,GANgC,EAMhC;AAAA,eALLC,QAKK,GALY,IAKZ;AACT,eAAKF,aAAL,GAAqB;AAAA;AAAA,+CAArB;AACH;;AAEDG,QAAAA,iBAAiB,GAAE;AACf,eAAKC,YAAL,GAAoB;AAAA;AAAA,4CAAiB,KAAKJ,aAAtB,EAAqC,KAAKC,OAA1C,EAAmD,KAAKC,QAAxD,CAApB;AACA,eAAKG,UAAL,GAAkB;AAAA;AAAA,wCAAe,KAAKL,aAApB,CAAlB;AACH;;AAEDM,QAAAA,UAAU,CAACL,OAAD,EAAoC;AAC1C,eAAKA,OAAL,GAAeA,OAAf;AACH;;AAEDM,QAAAA,SAAS,CAACC,IAAD,EAAiC;AACtC,iBAAO,KAAKP,OAAL,CAAaO,IAAb,KAAsB,IAA7B;AACH;;AAEDC,QAAAA,WAAW,CAACP,QAAD,EAAgB;AACvB,eAAKA,QAAL,GAAgBA,QAAhB;AACH;;AA3BoB,O","sourcesContent":["import { Prefab } from \"cc\";\nimport { PrefabKey } from \"../../data/types\";\nimport { EntityManager } from \"./EntityManager\";\nimport { RenderSystem } from \"../systems/RenderSystem\";\nimport { RoomSystem } from \"../systems/RoomSystem\";\n\nexport class GameManager {\n    private entityManager: EntityManager;\n    private prefabs: Record<PrefabKey, Prefab> = {} as Record<PrefabKey, Prefab>;;\n    private gameRoot: Node = null!;\n\n    public renderSystem!: RenderSystem;\n    public roomSystem!: RoomSystem;\n\n    constructor(){\n        this.entityManager = new EntityManager();\n    }\n\n    initializeSystems(){\n        this.renderSystem = new RenderSystem(this.entityManager, this.prefabs, this.gameRoot);\n        this.roomSystem = new RoomSystem(this.entityManager);\n    }\n\n    setPrefabs(prefabs: Record<PrefabKey, Prefab>){\n        this.prefabs = prefabs;\n    }\n\n    getPrefab(name: PrefabKey): Prefab | null {\n        return this.prefabs[name] || null;\n    }\n\n    setGameRoot(gameRoot: Node){\n        this.gameRoot = gameRoot;\n    }\n}\n\n"]}